{% extends 'main/base.html' %}
{% load humanize %}
{% block title %}{{ society.name }} - IIT Jodhpur{% endblock %}
{% block skin %}{{ society.skin }}{% endblock %}

{% block customstyles %}
    {% if society.cover %}
        <style>
            @media (max-width: 415px) {
                .society-photo {
                    height: 20rem !important;
                    background: url("{{ society.cover.crop.450x420 }}") no-repeat center !important;
                    background-size: cover !important;
                    -webkit-background-size: cover !important;
                }
            }

            @media (min-width: 416px) and (max-width: 1000px) {
                .society-photo {
                    height: 23rem !important;
                    background: url("{{ society.cover.crop.1280x900 }}");
                    background-repeat: no-repeat !important;
                    background-size: cover !important;
                    -webkit-background-size: cover !important;
                }
            }

            @media (min-width: 1001px) {
                .society-photo {
                    height: 28rem !important;
                    background: url("{{ society.cover.crop.1440x750 }}");
                    background-repeat: no-repeat !important;
                    background-size: cover !important;
                    -webkit-background-size: cover !important;
                }
            }
        </style>
    {% endif %}
{% endblock %}

{% block main %}
    <div class="streak streak-lg streak-photo society-photo view hm-black-light">
        <div class="mask flex-center">
            <div class="flex-center text-white">
                <ul>
                    <li><h1 class="h1-responsive wow fadeIn"><b>{{ society.name }}</b></h1></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container mt-2">
        <div class="row">
            <div class="col-md-8">
                <h2 class="h2-responsive mb-2">About</h2>
                <div id="description">{{ society.description|safe }}
                </div>
            </div>
            <div class="col-md-4">
                <div class="divider-new">
                    <h3 class="h3-responsive">Events</h3>
                </div>
                <ul>
                    {% if not event_list %}
                        <li>No events scheduled.</li>
                    {% endif %}
                    {% for event in event_list %}
                        <li>{{ event.name }}, {{ event.date|naturaltime }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    <div class="container mt-1">
        <div class="row">
            {% if club_list %}
                <div class="col-md-12">
                    <div class="divider-new">
                        <h3 class="h3-responsive">Clubs</h3>
                    </div>
                    <ul>
                        {% for club in club_list %}
                            <li>{{ club.name }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            {% if team_list %}
                <div class="col-md-12">
                <div class="divider-new">
                    <h3 class="h3-responsive">Teams</h3>
                </div>
                <ul>
                    {% for team in team_list %}
                        <li>{{ team.name }}</li>
                    {% endfor %}
                </ul>
                </div>
            {% endif %}
            {% if not club_list and not team_list %}
                <div class="col-md-12">
                    <h4 class="h4-responsive">No clubs or teams are associated with this society.</h4>
                </div>
            {% endif %}
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="divider-new">
                    <h3 class="h3-responsive">News</h3>
                </div>
                <ul>
                    {% if not news_list %}
                        <li>No news to display.</li>
                    {% endif %}
                    {% for news in news_list %}
                        <li>{{ news.title }}, {{ news.date|naturalday }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-md-8">

            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="gallery"></div>
        </div>
    </div>
    <div class="container mt-3 section team-section">
        <div class="divider-new">
            <h3 class="h3-responsive">Key Persons</h3>
        </div>
        <div class="row text-center">
            <div class="col-lg-4 col-md-6 mb-r">
                {% include 'user_card_mixin.html' with userprofile=society.secretary designation='Student Secretary' %}
            </div>
            <div class="col-lg-4 col-md-6 mb-r">
                {% include 'user_card_mixin.html' with userprofile=society.joint_secretary designation='Student Joint Secretary' %}
            </div>
            <div class="col-lg-4 col-md-6 mb-r">
                {% include 'user_card_mixin.html' with userprofile=society.mentor designation='Mentor' %}
            </div>
        </div>
    </div>
{% endblock %}

{% block customscripts %}
    <script>
        new WOW().init();
    </script>
{% endblock %}